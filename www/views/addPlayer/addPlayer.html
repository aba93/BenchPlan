<ion-view view-title="Add Player" hide-back-button="true">
  <ion-content>
    <h1>Add Player</h1>
    <form novalidate name="form.formAddPlayer" ng-submit="form.formAddPlayer.$valid && addPlayer(player)">
      <div class="list">

        <label class="item item-input item-floating-label" ng-class="{ 'has-error' : form.formAddPlayer.txtName.$invalid && form.formAddPlayer.$submitted }">
          <span class="input-label">Name</span>
          <input name="txtName" type="text" ng-model="player.name" placeholder="Name" minlength="3" maxlength="15" required>
        </label>

        <div class="form-errors" ng-messages="form.formAddPlayer.txtName.$error" ng-if="form.formAddPlayer.$submitted">
          <div class="form-error" ng-message="required">This field is required</div>
          <div class="form-error" ng-message="minlength">Minimum length required is 3</div>
          <div class="form-error" ng-message="maxlength">Maximum length is 15</div>
        </div>

        <label class="item item-input">
          <div class="input-label">
            Position
          </div>
          <button type="button" class="button button-positive" ng-click="openPositionModal()">
            {{positionSelected}}
          </button>
        </label>

        <label class="item item-input">
          <div class="input-label">
            Number
          </div>
          <button type="button" class="button button-positive" ng-click="openDorsalModal()">
            {{dorsalSelected}}
          </button>
        </label>

        <label class="item">
          <div class="input-label">
            Date of birth
          </div>
          <ionic-datepicker input-obj="datepickerObjectModal">
            <button type="button" class="button button-block button-positive">{{dateSelected}}</button>
          </ionic-datepicker>
        </label>

        <label class="item">
          <div class="input-label">
            Photo
          </div>
          <button type="button" class="button button-block button-positive" ng-click="takePicture()">Take picture</button>
        </label>

        <label class="item">
          <button type="button" class="button button-block button-energized" ng-click="getPicture()">Gallery</button>
          <img ng-hide="photoUrl === 'vacio'" ng-src="{{photoUrl}}" width="100px" height="100px"/>
        </label>

        <div class="input-label">
          Condition
        </div>
        <label class="item item-radio" ng-init="player = {condition: 'Available'}">
          <ion-radio name="group1" ng-model="player.condition" value="Available">
            Available
          </ion-radio>
          <label class="item item-radio">
            <ion-radio name="group1" ng-model="player.condition" value="Injured">
              Injured
            </ion-radio>
          </label>
        </label>

      </div>

      <div class="padding-top">
        <input type="submit" class="button button-block button-dark" ng-disabled="addPlayer.$invalid" value="Add">
        <p class="text-center padding-top">
          <a href="#/tabs/players" class="button button-clear button-positive">Back</a>
        </p>
      </div>

    </form>

    <script id="positionModal.html" type="text/ng-template">
      <ion-modal-view>
        <ion-header-bar>
          <h1 class="title">Position</h1>
        </ion-header-bar>
        <ion-content>
          <ion-list>
            <ion-item ng-repeat="position in positions" ng-click="assignPosition(position)">
              {{position}}
            </ion-item>
          </ion-list>
        </ion-content>
      </ion-modal-view>
    </script>

    <script id="dorsalModal.html" type="text/ng-template">
      <ion-modal-view>
        <ion-header-bar>
          <h1 class="title">Number</h1>
        </ion-header-bar>
        <ion-content>
          <ion-list>
            <ion-item ng-repeat="dorsal in dorsals" ng-click="assignDorsal(dorsal)">
              {{dorsal}}
            </ion-item>
          </ion-list>
        </ion-content>
      </ion-modal-view>
    </script>
  </ion-content>
</ion-view>
